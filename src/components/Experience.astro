---
import { useTranslations } from "../i18n/utils";
import { getLangFromUrl } from "../i18n/utils";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const roles = ["mediarevolution", "since", "onemax"] as const;
---

<section id="experience" class="mt-20 scroll-mt-24">
  <div class="flex items-end justify-between gap-6">
    <div>
      <h2 class="text-2xl font-semibold tracking-tight md:text-3xl">{t("experience.title")}</h2>
      <p class="mt-2 max-w-2xl text-sm text-zinc-300 md:text-base">{t("experience.subtitle")}</p>
    </div>
  </div>

  <div class="mt-8 space-y-4">
    {roles.map((key) => (
      <article class="rounded-2xl border border-white/10 bg-white/5 p-6 md:p-8">
        <header class="flex flex-col gap-2 md:flex-row md:items-start md:justify-between">
          <div>
            <h3 class="text-lg font-semibold text-white md:text-xl">{t(`experience.${key}.title` as any)}</h3>
            <p class="mt-1 text-sm text-zinc-300">
              <span class="font-medium text-sky-300">{t(`experience.${key}.company` as any)}</span>
              <span class="text-zinc-500"> Â· </span>
              <span>{t(`experience.${key}.location` as any)}</span>
            </p>
          </div>
          <p class="text-sm text-zinc-400">{t(`experience.${key}.date` as any)}</p>
        </header>

        <ul class="mt-4 space-y-2 text-sm leading-relaxed text-zinc-200 md:text-base">
          {t(`experience.${key}.bullets` as any)
            .split("\n")
            .filter(Boolean)
            .map((item) => (
              <li class="flex gap-3">
                <span class="mt-2 inline-flex h-1.5 w-1.5 flex-none rounded-full bg-white/25"></span>
                <span class="text-pretty">{item}</span>
              </li>
            ))}
        </ul>
      </article>
    ))}
  </div>
</section>